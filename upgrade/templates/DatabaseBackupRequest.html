    <h1><?php print _("Database Backup") ?></h1>

    <p>
      <?php print _("Before you upgrade, we <b>strongly recommend</b> that you make a backup of your database!  If you fail to make a backup and something goes wrong, there is a strong possibility that we will not be able to help you recover your data!") ?>
    </p>
    <p><?php print _("You have three options:") ?></p>
    <ol>
       <li><?php print _("Do the automated backup (<b>recommended</b>).") ?></li>
       <li><?php print _("Do a manual backup (see below).") ?>
    <div class="example">
    <?php if (!strncmp($templateData['storeConfig']['type'], 'mysql', 5)): ?>
      <h3> <?php print _("MySQL") ?> </h3>
      <?php printf('mysqldump -u%s -p -h %s --opt %s > %s.sql',
		   $templateData['storeConfig']['username'],
		   $templateData['storeConfig']['hostname'],
		   $templateData['storeConfig']['database'],
		   $templateData['storeConfig']['database']) ?>

    <?php elseif (!strncmp($templateData['storeConfig']['type'], 'postgres', 8)): ?>
      <h3> <?php print _("PostgreSQL") ?> </h3>
      <?php printf('pg_dump -h %s --format=t %s > %s.sql',
		   $templateData['storeConfig']['hostname'],
		   $templateData['storeConfig']['database'],
		   $templateData['storeConfig']['database']) ?>

    <?php elseif ($templateData['storeConfig']['type'] == 'oci8po'): ?>
      <h3> <?php print _("Oracle") ?> </h3>
      <?php printf('exp %s@%s file=%s.dmp full=yes',
		   $templateData['storeConfig']['username'],
		   $templateData['storeConfig']['database'],
		   $templateData['storeConfig']['database']) ?>

    <?php elseif (strstr($templateData['storeConfig']['type'], 'db2')): ?>
      <h3> <?php print _("IBM DB2") ?> </h3>
      <?php printf('db2 "backup database %s"',
		   $templateData['storeConfig']['database']) ?>

    <?php elseif (strstr($templateData['storeConfig']['type'], 'mssql')): ?>
      <h3> <?php print _("Microsoft SQL Server") ?> </h3>
      <?php printf('sqlcmd -S %s\SQLEXPRESS -e -Q "backup database %s to disk = \'%s.bkp\'"',
		   $templateData['storeConfig']['hostname'],
		   $templateData['storeConfig']['database'],
		   $templateData['storeConfig']['database']) ?>
    <?php endif; ?>
    </div>
       </li>
       <li><?php print _("Continue without a backup (<b>discouraged</b>).") ?></li>
    </ol>

    <p>
      <?php print _("If you choose to perform the automated backup, please be patient.  If you cancel or reload the page, you may interfere with the backup process.") ?>
    </p>

    <div class="go">
       <?php $nextStep = $stepNumber + 1 ?>
       <div class="btn btn-continue"><div><div><div><div><div><div><div><div>
       <a href="<?php generateUrl('index.php?step=' . $stepNumber . '&amp;backupDatabase=1') ?>">
	 <?php print _('Begin Database Backup') ?>
       </a>
       </div></div></div></div></div></div></div></div></div>
       <div class="btn btn-continue"><div><div><div><div><div><div><div><div>
	   <a href="<?php generateUrl('index.php?step=' . $nextStep) ?>"><?php print _('Skip Database Backup') ?></a>
       </div></div></div></div></div></div></div></div></div>
    </div>
