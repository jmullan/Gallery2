<?php

class CreateAnonymousUserTestCase extends TestCase {

    function getDescription() {
	return "Create the Anonymous user";
    }

    function testStart() {
	global $gallery;

	$user = new GalleryUser();
	$ret = $user->create();
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}
	$user->setFullName('Anonymous');
	$user->setIsAdmin(false);
	
	$ret = $user->save();
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}

	return $gallery->commitCache();
    }
}

?>
</pre>
