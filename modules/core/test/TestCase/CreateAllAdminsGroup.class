<?php

class CreateAllAdminsGroupTestCase extends TestCase {

    function getDescription() {
	return "Create the all admins group";
    }

    function testStart() {
	global $gallery;

	$group = new GalleryGroup();
	$ret = $group->create('All Admins', GROUP_ALL_ADMINS);
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}
	
	$ret = $group->save();
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}

	$ret = $gallery->setModuleParameter('core', 'id.adminGroup',
					    $group->getId());
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}
	
	return GalleryStatus::success();
    }
}

?>
