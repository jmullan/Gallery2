<?php

class CreateAdminUserTestCase extends TestCase {

    function getDescription() {
	return "Create the Admin user";
    }

    function testStart() {
	global $gallery;

	$user = new GalleryUser();
	$ret = $user->create('admin');
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}
	$user->setPassword('admin');
	$user->setFullName('Admin');
	$user->setIsAdmin(true);
	
	$ret = $user->save();
	if ($ret->isError()) {
	    return $ret->wrap(__FILE__, __LINE__);
	}

	return GalleryStatus::success();
    }
}

?>
